!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Luke Ellis | Projects</title>
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <header>
      <div class="header-text">
        <h1>Luke <span>Ellis</span> <small>Data Professional</small></h1>
      </div>
    </header>

    <nav>
      <a href="index.html">About</a>
      <a href="experience.html">Experience</a>
      <a href="projects.html">Projects</a>
      <a href="contact.html">Contact Me</a>
    </nav>

    <main>
      <section class="projects-section">
        <h2>Projects</h2>

        <div class="projects-grid">
          <!-- Project 1 -->
          <div class="project-card" onclick="openModal('projectModal')">
            <h3>NFL 2025 Big Data Bowl</h3>
            <p>
              Predicting run vs pass plays for the San Francisco 49ers using a
              random forest classifier trained on NFL tracking data.
            </p>
          </div>

          <!-- Placeholder for future project -->
          <div class="project-card empty">
            <h3>Coming Soon</h3>
            <p>A new data science project will be added here soon.</p>
          </div>
        </div>
      </section>

      <!-- Modal for Project Details -->
      <div id="projectModal" class="modal">
        <div class="modal-content">
          <span class="close" onclick="closeModal('projectModal')"
            >&times;</span
          >
          <h2>Run/Pass Pre-snap Prediction</h2>
          <h3>Overview</h3>
          <p>
            This model was built to give NFL defenses an advantage against the
            San Francisco 49ers by predicting the probability of a designed run
            or pass based on pre-snap alignment and game context. This enables
            smarter defensive audibles.
          </p>

          <h3>Data Source</h3>
          <p>
            Data was sourced from the NFL (Weeks 1–6, 2023 season) with 451
            plays from 49ers' offense. QB kneels were excluded.
          </p>

          <h3>Target Variable</h3>
          <p>
            Binary: 1 = Designed run, 0 = Pass. QB scrambles do not count as
            designed runs.
          </p>

          <h3>Model</h3>
          <p>
            Random forest classifier with 7 features. Used class weighting due
            to slight class imbalance (194 runs vs 257 passes). Accuracy: 80.9%,
            ROC AUC: 87.4%.
          </p>

          <h3>Feature Selection (Top SHAP Contributions)</h3>
          <ul>
            <li>
              <strong>offenseFormation</strong> (17.76%) – OneHotEncoded; nulls
              dropped.
            </li>
            <li>
              <strong>motionSinceLineset</strong> (12.24%) – Filled using KNN
              imputer; BinaryEncoded.
            </li>
            <li><strong>receiverAlignment</strong> (8.81%) – OneHotEncoded.</li>
            <li>
              <strong>presnap_score_difference</strong> (3.79%) –
              StandardScaled.
            </li>
            <li>
              <strong>down_yardsToGo</strong> (3.54%) – Down × YardsToGo;
              StandardScaled.
            </li>
            <li>
              <strong>gameClock_seconds</strong> (2.04%) – Converted from MM:SS
              and scaled.
            </li>
            <li>
              <strong>shiftSinceLineset</strong> (2.00%) – Nulls dropped;
              BinaryEncoded.
            </li>
          </ul>

          <h3>Correlation with Run Outcome</h3>
          <pre>
playResult                        1.000
offenseFormation_I_FORM          0.407
receiverAlignment_2x1            0.384
presnap_score_difference         0.282
...</pre
          >

          <h3>Hyperparameters (Tuned via Grid Search)</h3>
          <ul>
            <li>bootstrap: False</li>
            <li>max_depth: 10</li>
            <li>max_features: 'sqrt'</li>
            <li>min_samples_leaf: 2</li>
            <li>min_samples_split: 25</li>
            <li>n_estimators: 300</li>
          </ul>
          <p>Cross-validation score: 88.4% (±2.6%).</p>

          <h3>Model Performance</h3>
          <p>Accuracy: 80.9%, ROC AUC: 87.4%</p>
          <pre>
              precision    recall  f1-score   support

     Pass       0.82      0.84      0.83        77
     Run        0.79      0.76      0.78        59
          </pre>
          <div class="project-graphs">
            <img src="assets/graph1.jpg" alt="Graph 1" />
            <img src="assets/graph2.jpg" alt="Graph 2" />
            <img src="assets/graph3.jpg" alt="Graph 3" />
          </div>

          <h3>Limitations & Assumptions</h3>
          <p>
            The model should be retrained weekly to capture new tendencies.
            Improvements could include incorporating player-level data like
            whether McCaffrey is on the field.
          </p>
        </div>
      </div>
    </main>

    <footer>
      <p>&copy; 2025 Luke Ellis</p>
    </footer>

    <script>
      function openModal(id) {
        document.getElementById(id).style.display = "block";
      }

      function closeModal(id) {
        document.getElementById(id).style.display = "none";
      }

      window.onclick = function (event) {
        const modals = document.querySelectorAll(".modal");
        modals.forEach((modal) => {
          if (event.target === modal) {
            modal.style.display = "none";
          }
        });
      };
    </script>
  </body>
</html>
